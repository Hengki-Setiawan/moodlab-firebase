{
  "entities": {
    "Project": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Project",
      "type": "object",
      "description": "Represents a portfolio project for Mood Lab.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the project."
        },
        "title": {
          "type": "string",
          "description": "The title of the project."
        },
        "description": {
          "type": "string",
          "description": "A detailed description of the project."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL to the project's image.",
          "format": "uri"
        },
        "clientName": {
          "type": "string",
          "description": "The name of the client for whom the project was done."
        },
        "serviceCategory": {
          "type": "string",
          "description": "The service category of the project (e.g., 'Content TikTok', 'Kampanye Instagram')."
        },
        "caseStudyUrl": {
          "type": "string",
          "description": "URL to the case study of the project, if available.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "title",
        "description",
        "imageUrl",
        "clientName",
        "serviceCategory"
      ]
    },
    "ContactSubmission": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ContactSubmission",
      "type": "object",
      "description": "Represents a contact form submission.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the contact submission."
        },
        "name": {
          "type": "string",
          "description": "The name of the person submitting the form."
        },
        "email": {
          "type": "string",
          "description": "The email address of the person submitting the form.",
          "format": "email"
        },
        "companyName": {
          "type": "string",
          "description": "The name of the company/UMKM."
        },
        "message": {
          "type": "string",
          "description": "The message submitted through the contact form."
        },
        "submissionDate": {
          "type": "string",
          "description": "Date and time when the form was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "companyName",
        "message",
        "submissionDate"
      ]
    },
    "TeamMember": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "TeamMember",
      "type": "object",
      "description": "Represents a team member at Mood Lab.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the team member."
        },
        "name": {
          "type": "string",
          "description": "The name of the team member."
        },
        "title": {
          "type": "string",
          "description": "The job title of the team member."
        },
        "bio": {
          "type": "string",
          "description": "A brief biography of the team member."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL to the team member's image.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "name",
        "title",
        "bio",
        "imageUrl"
      ]
    },
    "Product": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Product",
      "type": "object",
      "description": "Represents a digital product for sale.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the product."
        },
        "name": {
          "type": "string",
          "description": "The name of the product."
        },
        "description": {
          "type": "string",
          "description": "A detailed description of the product."
        },
        "price": {
          "type": "number",
          "description": "The price of the product."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL to the product's image.",
          "format": "uri"
        },
        "fileUrl": {
          "type": "string",
          "description": "URL to the downloadable file (e.g., Google Drive link).",
          "format": "uri"
        },
        "category": {
          "type": "string",
          "description": "The category of the digital product.",
          "enum": ["E-book", "Template", "SFX", "Green Screen"]
        }
      },
      "required": ["id", "name", "description", "price", "imageUrl", "fileUrl", "category"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/projects/{projectId}",
        "definition": {
          "entityName": "Project",
          "schema": {
            "$ref": "#/backend/entities/Project"
          },
          "description": "Stores portfolio project data.",
          "params": [
            {
              "name": "projectId",
              "description": "The unique identifier for the project."
            }
          ]
        }
      },
      {
        "path": "/contactSubmissions/{contactSubmissionId}",
        "definition": {
          "entityName": "ContactSubmission",
          "schema": {
            "$ref": "#/backend/entities/ContactSubmission"
          },
          "description": "Stores contact form submissions.",
          "params": [
            {
              "name": "contactSubmissionId",
              "description": "The unique identifier for the contact submission."
            }
          ]
        }
      },
      {
        "path": "/teamMembers/{teamMemberId}",
        "definition": {
          "entityName": "TeamMember",
          "schema": {
            "$ref": "#/backend/entities/TeamMember"
          },
          "description": "Stores team member data.",
          "params": [
            {
              "name": "teamMemberId",
              "description": "The unique identifier for the team member."
            }
          ]
        }
      },
      {
        "path": "/products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": {
            "$ref": "#/backend/entities/Product"
          },
          "description": "Stores digital product data.",
          "params": [
            {
              "name": "productId",
              "description": "The unique identifier for the product."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to manage content for the Mood Lab website, focusing on projects, contact submissions, and team members. The structure prioritizes simplicity and security, leveraging Structural Segregation and Path-Based ownership. A new 'products' collection has been added to store digital product information. \n\n*   `/projects`: Stores project data. This collection is flat, as there are no specific ownership requirements. All project documents share the same security posture.\n*   `/contactSubmissions`: Stores contact form submissions.  Like Projects, this is a flat collection since there's no specified hierarchical authorization.\n*   `/teamMembers`: Stores team member data.  This is also a flat collection.\n*   `/products`: Stores digital product data. This is a flat collection for easy querying of all available products.\n\nAuthorization Independence: The structure does not require denormalization, as authorization is not based on hierarchical data. Instead, access is controlled at the collection level.\n\nQAPs:  Segregation is used to support QAPs. Each collection (`projects`, `contactSubmissions`, `teamMembers`, `products`) has its own security rules tailored to the data it contains, ensuring that list operations can be securely performed without exposing unauthorized information."
  }
}
